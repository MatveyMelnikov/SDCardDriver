ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"crc-buffer.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.crc_buffer_calculate_crc_7,"ax",%progbits
  18              		.align	1
  19              		.global	crc_buffer_calculate_crc_7
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	crc_buffer_calculate_crc_7:
  25              	.LFB0:
  26              		.file 1 "External/CRC/Src/crc-buffer.c"
   1:External/CRC/Src/crc-buffer.c **** #include "crc-buffer.h"
   2:External/CRC/Src/crc-buffer.c **** #include <stdbool.h>
   3:External/CRC/Src/crc-buffer.c **** 
   4:External/CRC/Src/crc-buffer.c **** // 'i >> 3' equivalent 'i / 8' and 'i & 0x7' equivalent 'i % 8'
   5:External/CRC/Src/crc-buffer.c **** #define GET_INPUT_BIT(pData, i) \
   6:External/CRC/Src/crc-buffer.c **** 	*((pData) + (i >> 3)) & (1 << (7 - (i & 0x7)))
   7:External/CRC/Src/crc-buffer.c **** 
   8:External/CRC/Src/crc-buffer.c **** uint8_t
   9:External/CRC/Src/crc-buffer.c **** crc_buffer_calculate_crc_7(
  10:External/CRC/Src/crc-buffer.c **** 	crc_buffer_7* buffer,
  11:External/CRC/Src/crc-buffer.c **** 	uint8_t* data,
  12:External/CRC/Src/crc-buffer.c **** 	const uint8_t data_length
  13:External/CRC/Src/crc-buffer.c **** )
  14:External/CRC/Src/crc-buffer.c **** {
  27              		.loc 1 14 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 24
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 7, -4
  36 0002 87B0     		sub	sp, sp, #28
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 32
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 F860     		str	r0, [r7, #12]
  43 0008 B960     		str	r1, [r7, #8]
  44 000a 1346     		mov	r3, r2
ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 2


  45 000c FB71     		strb	r3, [r7, #7]
  15:External/CRC/Src/crc-buffer.c **** 	*buffer = 0x0;
  46              		.loc 1 15 10
  47 000e FB68     		ldr	r3, [r7, #12]
  48 0010 0022     		movs	r2, #0
  49 0012 1A70     		strb	r2, [r3]
  50              	.LBB2:
  16:External/CRC/Src/crc-buffer.c **** 
  17:External/CRC/Src/crc-buffer.c **** 	for (uint8_t i = 0; i < data_length * 8; i++)
  51              		.loc 1 17 15
  52 0014 0023     		movs	r3, #0
  53 0016 FB75     		strb	r3, [r7, #23]
  54              		.loc 1 17 2
  55 0018 3FE0     		b	.L2
  56              	.L3:
  57              	.LBB3:
  18:External/CRC/Src/crc-buffer.c **** 	{
  19:External/CRC/Src/crc-buffer.c **** 		bool inputBit = GET_INPUT_BIT(data, i);
  58              		.loc 1 19 19 discriminator 3
  59 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  60 001c DB08     		lsrs	r3, r3, #3
  61 001e DBB2     		uxtb	r3, r3
  62 0020 1A46     		mov	r2, r3
  63 0022 BB68     		ldr	r3, [r7, #8]
  64 0024 1344     		add	r3, r3, r2
  65 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  66 0028 1946     		mov	r1, r3
  67 002a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  68 002c DB43     		mvns	r3, r3
  69 002e 03F00703 		and	r3, r3, #7
  70 0032 0122     		movs	r2, #1
  71 0034 02FA03F3 		lsl	r3, r2, r3
  72 0038 0B40     		ands	r3, r3, r1
  73              		.loc 1 19 8 discriminator 3
  74 003a 002B     		cmp	r3, #0
  75 003c 14BF     		ite	ne
  76 003e 0123     		movne	r3, #1
  77 0040 0023     		moveq	r3, #0
  78 0042 BB75     		strb	r3, [r7, #22]
  20:External/CRC/Src/crc-buffer.c **** 		// XOR input bit with the bit evicted from the buffer
  21:External/CRC/Src/crc-buffer.c **** 		inputBit ^= (bool)(*buffer & (1 << 6));
  79              		.loc 1 21 12 discriminator 3
  80 0044 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
  81              		.loc 1 21 22 discriminator 3
  82 0046 FA68     		ldr	r2, [r7, #12]
  83 0048 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  84              		.loc 1 21 30 discriminator 3
  85 004a 02F04002 		and	r2, r2, #64
  86              		.loc 1 21 15 discriminator 3
  87 004e 002A     		cmp	r2, #0
  88 0050 14BF     		ite	ne
  89 0052 0122     		movne	r2, #1
  90 0054 0022     		moveq	r2, #0
  91 0056 D2B2     		uxtb	r2, r2
  92              		.loc 1 21 12 discriminator 3
  93 0058 5340     		eors	r3, r3, r2
  94 005a 002B     		cmp	r3, #0
ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 3


  95 005c 14BF     		ite	ne
  96 005e 0123     		movne	r3, #1
  97 0060 0023     		moveq	r3, #0
  98 0062 BB75     		strb	r3, [r7, #22]
  22:External/CRC/Src/crc-buffer.c **** 
  23:External/CRC/Src/crc-buffer.c **** 		*buffer <<= 1;
  99              		.loc 1 23 11 discriminator 3
 100 0064 FB68     		ldr	r3, [r7, #12]
 101 0066 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 102 0068 5B00     		lsls	r3, r3, #1
 103 006a DAB2     		uxtb	r2, r3
 104 006c FB68     		ldr	r3, [r7, #12]
 105 006e 1A70     		strb	r2, [r3]
  24:External/CRC/Src/crc-buffer.c **** 		// According to the documentation, we XOR the 
  25:External/CRC/Src/crc-buffer.c **** 		// 4th position with the input bit
  26:External/CRC/Src/crc-buffer.c **** 		*buffer ^= (inputBit << 3);
 106              		.loc 1 26 11 discriminator 3
 107 0070 FB68     		ldr	r3, [r7, #12]
 108 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 109 0074 5AB2     		sxtb	r2, r3
 110              		.loc 1 26 24 discriminator 3
 111 0076 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 112 0078 DB00     		lsls	r3, r3, #3
 113              		.loc 1 26 11 discriminator 3
 114 007a 5BB2     		sxtb	r3, r3
 115 007c 5340     		eors	r3, r3, r2
 116 007e 5BB2     		sxtb	r3, r3
 117 0080 DAB2     		uxtb	r2, r3
 118 0082 FB68     		ldr	r3, [r7, #12]
 119 0084 1A70     		strb	r2, [r3]
  27:External/CRC/Src/crc-buffer.c **** 		*buffer |= inputBit;
 120              		.loc 1 27 11 discriminator 3
 121 0086 FB68     		ldr	r3, [r7, #12]
 122 0088 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 123 008a BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 124 008c 1343     		orrs	r3, r3, r2
 125 008e DAB2     		uxtb	r2, r3
 126 0090 FB68     		ldr	r3, [r7, #12]
 127 0092 1A70     		strb	r2, [r3]
 128              	.LBE3:
  17:External/CRC/Src/crc-buffer.c **** 	{
 129              		.loc 1 17 44 discriminator 3
 130 0094 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 131 0096 0133     		adds	r3, r3, #1
 132 0098 FB75     		strb	r3, [r7, #23]
 133              	.L2:
  17:External/CRC/Src/crc-buffer.c **** 	{
 134              		.loc 1 17 24 discriminator 1
 135 009a FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
  17:External/CRC/Src/crc-buffer.c **** 	{
 136              		.loc 1 17 38 discriminator 1
 137 009c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 138 009e DB00     		lsls	r3, r3, #3
  17:External/CRC/Src/crc-buffer.c **** 	{
 139              		.loc 1 17 2 discriminator 1
 140 00a0 9A42     		cmp	r2, r3
 141 00a2 BADB     		blt	.L3
ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 4


 142              	.LBE2:
  28:External/CRC/Src/crc-buffer.c **** 	}
  29:External/CRC/Src/crc-buffer.c **** 
  30:External/CRC/Src/crc-buffer.c **** 	return (*buffer << 1) | 1;
 143              		.loc 1 30 10
 144 00a4 FB68     		ldr	r3, [r7, #12]
 145 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 146              		.loc 1 30 18
 147 00a8 5B00     		lsls	r3, r3, #1
 148              		.loc 1 30 24
 149 00aa 5BB2     		sxtb	r3, r3
 150 00ac 43F00103 		orr	r3, r3, #1
 151 00b0 5BB2     		sxtb	r3, r3
 152 00b2 DBB2     		uxtb	r3, r3
  31:External/CRC/Src/crc-buffer.c **** }
 153              		.loc 1 31 1
 154 00b4 1846     		mov	r0, r3
 155 00b6 1C37     		adds	r7, r7, #28
 156              	.LCFI3:
 157              		.cfi_def_cfa_offset 4
 158 00b8 BD46     		mov	sp, r7
 159              	.LCFI4:
 160              		.cfi_def_cfa_register 13
 161              		@ sp needed
 162 00ba 80BC     		pop	{r7}
 163              	.LCFI5:
 164              		.cfi_restore 7
 165              		.cfi_def_cfa_offset 0
 166 00bc 7047     		bx	lr
 167              		.cfi_endproc
 168              	.LFE0:
 170              		.section	.text.crc_buffer_calculate_crc_16,"ax",%progbits
 171              		.align	1
 172              		.global	crc_buffer_calculate_crc_16
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 177              	crc_buffer_calculate_crc_16:
 178              	.LFB1:
  32:External/CRC/Src/crc-buffer.c **** 
  33:External/CRC/Src/crc-buffer.c **** crc_16_result
  34:External/CRC/Src/crc-buffer.c **** crc_buffer_calculate_crc_16(
  35:External/CRC/Src/crc-buffer.c **** 	crc_buffer_16* buffer,
  36:External/CRC/Src/crc-buffer.c **** 	uint8_t* data,
  37:External/CRC/Src/crc-buffer.c **** 	const uint16_t data_length
  38:External/CRC/Src/crc-buffer.c **** )
  39:External/CRC/Src/crc-buffer.c **** {
 179              		.loc 1 39 1
 180              		.cfi_startproc
 181              		@ args = 0, pretend = 0, frame = 24
 182              		@ frame_needed = 1, uses_anonymous_args = 0
 183              		@ link register save eliminated.
 184 0000 80B4     		push	{r7}
 185              	.LCFI6:
 186              		.cfi_def_cfa_offset 4
 187              		.cfi_offset 7, -4
 188 0002 87B0     		sub	sp, sp, #28
ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 5


 189              	.LCFI7:
 190              		.cfi_def_cfa_offset 32
 191 0004 00AF     		add	r7, sp, #0
 192              	.LCFI8:
 193              		.cfi_def_cfa_register 7
 194 0006 F860     		str	r0, [r7, #12]
 195 0008 B960     		str	r1, [r7, #8]
 196 000a 1346     		mov	r3, r2
 197 000c FB80     		strh	r3, [r7, #6]	@ movhi
  40:External/CRC/Src/crc-buffer.c **** 	*buffer = 0x0;
 198              		.loc 1 40 10
 199 000e FB68     		ldr	r3, [r7, #12]
 200 0010 0022     		movs	r2, #0
 201 0012 1A80     		strh	r2, [r3]	@ movhi
 202              	.LBB4:
  41:External/CRC/Src/crc-buffer.c **** 
  42:External/CRC/Src/crc-buffer.c **** 	for (uint16_t i = 0; i < data_length * 8; i++)
 203              		.loc 1 42 16
 204 0014 0023     		movs	r3, #0
 205 0016 FB82     		strh	r3, [r7, #22]	@ movhi
 206              		.loc 1 42 2
 207 0018 42E0     		b	.L6
 208              	.L7:
 209              	.LBB5:
  43:External/CRC/Src/crc-buffer.c **** 	{
  44:External/CRC/Src/crc-buffer.c **** 		bool inputBit = GET_INPUT_BIT(data, i);
 210              		.loc 1 44 19 discriminator 3
 211 001a FB8A     		ldrh	r3, [r7, #22]
 212 001c DB08     		lsrs	r3, r3, #3
 213 001e 9BB2     		uxth	r3, r3
 214 0020 1A46     		mov	r2, r3
 215 0022 BB68     		ldr	r3, [r7, #8]
 216 0024 1344     		add	r3, r3, r2
 217 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 218 0028 1946     		mov	r1, r3
 219 002a FB8A     		ldrh	r3, [r7, #22]
 220 002c DB43     		mvns	r3, r3
 221 002e 03F00703 		and	r3, r3, #7
 222 0032 0122     		movs	r2, #1
 223 0034 02FA03F3 		lsl	r3, r2, r3
 224 0038 0B40     		ands	r3, r3, r1
 225              		.loc 1 44 8 discriminator 3
 226 003a 002B     		cmp	r3, #0
 227 003c 14BF     		ite	ne
 228 003e 0123     		movne	r3, #1
 229 0040 0023     		moveq	r3, #0
 230 0042 7B75     		strb	r3, [r7, #21]
  45:External/CRC/Src/crc-buffer.c **** 		// XOR input bit with the bit evicted from the buffer
  46:External/CRC/Src/crc-buffer.c **** 		inputBit ^= (bool)(*buffer & (1 << 15));
 231              		.loc 1 46 12 discriminator 3
 232 0044 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 233              		.loc 1 46 22 discriminator 3
 234 0046 FA68     		ldr	r2, [r7, #12]
 235 0048 1288     		ldrh	r2, [r2]
 236              		.loc 1 46 15 discriminator 3
 237 004a 12B2     		sxth	r2, r2
 238 004c 92B2     		uxth	r2, r2
ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 6


 239 004e D20B     		lsrs	r2, r2, #15
 240 0050 D2B2     		uxtb	r2, r2
 241              		.loc 1 46 12 discriminator 3
 242 0052 5340     		eors	r3, r3, r2
 243 0054 002B     		cmp	r3, #0
 244 0056 14BF     		ite	ne
 245 0058 0123     		movne	r3, #1
 246 005a 0023     		moveq	r3, #0
 247 005c 7B75     		strb	r3, [r7, #21]
  47:External/CRC/Src/crc-buffer.c **** 
  48:External/CRC/Src/crc-buffer.c **** 		*buffer <<= 1;
 248              		.loc 1 48 11 discriminator 3
 249 005e FB68     		ldr	r3, [r7, #12]
 250 0060 1B88     		ldrh	r3, [r3]
 251 0062 5B00     		lsls	r3, r3, #1
 252 0064 9AB2     		uxth	r2, r3
 253 0066 FB68     		ldr	r3, [r7, #12]
 254 0068 1A80     		strh	r2, [r3]	@ movhi
  49:External/CRC/Src/crc-buffer.c **** 		// According to the documentation, we XOR the 6th and 
  50:External/CRC/Src/crc-buffer.c **** 		// 13th positions with the input bit.
  51:External/CRC/Src/crc-buffer.c **** 		*buffer ^= (inputBit << 5) | (inputBit << 12);
 255              		.loc 1 51 11 discriminator 3
 256 006a FB68     		ldr	r3, [r7, #12]
 257 006c 1B88     		ldrh	r3, [r3]
 258 006e 1AB2     		sxth	r2, r3
 259              		.loc 1 51 24 discriminator 3
 260 0070 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 261 0072 5B01     		lsls	r3, r3, #5
 262              		.loc 1 51 30 discriminator 3
 263 0074 19B2     		sxth	r1, r3
 264              		.loc 1 51 42 discriminator 3
 265 0076 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 266 0078 1B03     		lsls	r3, r3, #12
 267              		.loc 1 51 30 discriminator 3
 268 007a 1BB2     		sxth	r3, r3
 269 007c 0B43     		orrs	r3, r3, r1
 270 007e 1BB2     		sxth	r3, r3
 271              		.loc 1 51 11 discriminator 3
 272 0080 5340     		eors	r3, r3, r2
 273 0082 1BB2     		sxth	r3, r3
 274 0084 9AB2     		uxth	r2, r3
 275 0086 FB68     		ldr	r3, [r7, #12]
 276 0088 1A80     		strh	r2, [r3]	@ movhi
  52:External/CRC/Src/crc-buffer.c **** 		//*buffer ^= (inputBit << 12);
  53:External/CRC/Src/crc-buffer.c **** 		*buffer |= inputBit;
 277              		.loc 1 53 11 discriminator 3
 278 008a FB68     		ldr	r3, [r7, #12]
 279 008c 1A88     		ldrh	r2, [r3]
 280 008e 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 281 0090 9BB2     		uxth	r3, r3
 282 0092 1343     		orrs	r3, r3, r2
 283 0094 9AB2     		uxth	r2, r3
 284 0096 FB68     		ldr	r3, [r7, #12]
 285 0098 1A80     		strh	r2, [r3]	@ movhi
 286              	.LBE5:
  42:External/CRC/Src/crc-buffer.c **** 	{
 287              		.loc 1 42 45 discriminator 3
ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 7


 288 009a FB8A     		ldrh	r3, [r7, #22]
 289 009c 0133     		adds	r3, r3, #1
 290 009e FB82     		strh	r3, [r7, #22]	@ movhi
 291              	.L6:
  42:External/CRC/Src/crc-buffer.c **** 	{
 292              		.loc 1 42 25 discriminator 1
 293 00a0 FA8A     		ldrh	r2, [r7, #22]
  42:External/CRC/Src/crc-buffer.c **** 	{
 294              		.loc 1 42 39 discriminator 1
 295 00a2 FB88     		ldrh	r3, [r7, #6]
 296 00a4 DB00     		lsls	r3, r3, #3
  42:External/CRC/Src/crc-buffer.c **** 	{
 297              		.loc 1 42 2 discriminator 1
 298 00a6 9A42     		cmp	r2, r3
 299 00a8 B7DB     		blt	.L7
 300              	.LBE4:
  54:External/CRC/Src/crc-buffer.c **** 	}
  55:External/CRC/Src/crc-buffer.c **** 
  56:External/CRC/Src/crc-buffer.c **** 	return (crc_16_result) { *buffer };
 301              		.loc 1 56 27
 302 00aa FB68     		ldr	r3, [r7, #12]
 303 00ac 1B88     		ldrh	r3, [r3]
  57:External/CRC/Src/crc-buffer.c **** }
 304              		.loc 1 57 1
 305 00ae 1846     		mov	r0, r3	@ movhi
 306 00b0 1C37     		adds	r7, r7, #28
 307              	.LCFI9:
 308              		.cfi_def_cfa_offset 4
 309 00b2 BD46     		mov	sp, r7
 310              	.LCFI10:
 311              		.cfi_def_cfa_register 13
 312              		@ sp needed
 313 00b4 80BC     		pop	{r7}
 314              	.LCFI11:
 315              		.cfi_restore 7
 316              		.cfi_def_cfa_offset 0
 317 00b6 7047     		bx	lr
 318              		.cfi_endproc
 319              	.LFE1:
 321              		.text
 322              	.Letext0:
 323              		.file 2 "d:\\portable programs\\stm32-my-toolchain\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\
 324              		.file 3 "d:\\portable programs\\stm32-my-toolchain\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\
 325              		.file 4 "External/CRC/Inc/crc-buffer.h"
ARM GAS  C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 crc-buffer.c
C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s:18     .text.crc_buffer_calculate_crc_7:00000000 $t
C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s:24     .text.crc_buffer_calculate_crc_7:00000000 crc_buffer_calculate_crc_7
C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s:171    .text.crc_buffer_calculate_crc_16:00000000 $t
C:\Users\Matvey\AppData\Local\Temp\cckpi1Ee.s:177    .text.crc_buffer_calculate_crc_16:00000000 crc_buffer_calculate_crc_16

NO UNDEFINED SYMBOLS
